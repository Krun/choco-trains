types = levels(antequera$EVENT_TYPE)
x = NULL
for (i in 1:length(dates)) {
n = as.list(table(antequera[antequera$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
symnum(corr)
png("antequera_correlation.png", width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main="Antequera - Daily alarm correlation", xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
dates = levels(factor(antequera$DATE))
types = levels(antequera$EVENT_TYPE)
x = NULL
for (i in 1:length(dates)) {
n = as.list(table(antequera[antequera$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
symnum(corr)
png("antequera_correlation.png", width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main="Antequera - Daily alarm correlation", xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
dev.off()
dates = levels(factor(segovia$DATE))
types = levels(segovia$EVENT_TYPE)
x = NULL
for (i in 1:length(dates)) {
n = as.list(table(segovia[segovia$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
symnum(corr)
png("segovia_correlation.png", width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main="Segovia - Daily alarm correlation", xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
clear
cls
clc
dates = levels(factor(segovia$DATE))
types = levels(segovia$EVENT_TYPE)
x = NULL
for (i in 1:length(dates)) {
n = as.list(table(segovia[segovia$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
symnum(corr)
png("segovia_correlation.png", width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main="Segovia - Daily alarm correlation", xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
antequera$DATE
correlationgraph <- function(orgdata, filename, title="Alarms correlation") {
data <- orgdata
data$DVNS_ERRORTIME <- as.POSIXlt(strptime(data$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
data$EVENT_TYPE = factor(data$EVENT_TYPE)
data$DATE = as.Date(data$DVNS_ERRORTIME)
x = NULL
dates = levels(factor(data$DATE))
for (i in 1:length(dates)) {
n = as.list(table(data[data$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
png(filename, width=1000, height=900, res=100)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main=title, xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01))
dev.off()
}
correlationgraph(segovia, "segovia_correlation.png", "Segovia - Daily alarm correlation")
data <- sevilla
filename <- "sevilla_test.png"
title <- "Alarms correlation"
data$DVNS_ERRORTIME <- as.POSIXlt(strptime(data$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
data$EVENT_TYPE = factor(data$EVENT_TYPE)
data$DATE = as.Date(data$DVNS_ERRORTIME)
x = NULL
dates = levels(factor(data$DATE))
for (i in 1:length(dates)) {
n = as.list(table(data[data$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
png(filename, width=1000, height=900, res=100)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main=title, xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01))
dev.off()
correlationgraph <- function(orgdata, filename, title="Alarms correlation") {
data <- orgdata
data$DVNS_ERRORTIME <- as.POSIXlt(strptime(data$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
data$EVENT_TYPE = factor(data$EVENT_TYPE)
data$DATE = as.Date(data$DVNS_ERRORTIME)
x = NULL
dates = levels(factor(data$DATE))
for (i in 1:length(dates)) {
n = as.list(table(data[data$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
png(filename, width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main=title, xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
}
correlationgraph(segovia, "segovia_correlation.png", "Segovia - Daily alarm correlation")
data <- orgdata
data$DVNS_ERRORTIME <- as.POSIXlt(strptime(data$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
data$EVENT_TYPE = factor(data$EVENT_TYPE)
data$DATE = as.Date(data$DVNS_ERRORTIME)
x = NULL
dates = levels(factor(data$DATE))
for (i in 1:length(dates)) {
n = as.list(table(data[data$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
png(filename, width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main=title, xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
sevilla[sevilla$EVENT_TYPE == "FieldElementFailure",]$EVENT_TYPE = "fieldElementFailure"
orgdata <- antequera
filename <- "antequera_test.png"
title <- "Alarms correlation"
data <- orgdata
data$DVNS_ERRORTIME <- as.POSIXlt(strptime(data$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
data$EVENT_TYPE = factor(data$EVENT_TYPE)
data$DATE = as.Date(data$DVNS_ERRORTIME)
x = NULL
dates = levels(factor(data$DATE))
for (i in 1:length(dates)) {
n = as.list(table(data[data$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
png(filename, width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main=title, xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
orgdata <- sevilla
filename <- "sevilla_test.png"
title <- "Sevilla - Alarms correlation"
data <- orgdata[orgdata$EVENT_TYPE != "other"]
data$DVNS_ERRORTIME <- as.POSIXlt(strptime(data$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
data$EVENT_TYPE = factor(data$EVENT_TYPE)
data$DATE = as.Date(data$DVNS_ERRORTIME)
x = NULL
dates = levels(factor(data$DATE))
for (i in 1:length(dates)) {
n = as.list(table(data[data$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
png(filename, width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main=title, xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
title
data <- orgdata[orgdata$EVENT_TYPE != "other",]
data$DVNS_ERRORTIME <- as.POSIXlt(strptime(data$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
data$EVENT_TYPE = factor(data$EVENT_TYPE)
data$DATE = as.Date(data$DVNS_ERRORTIME)
x = NULL
dates = levels(factor(data$DATE))
for (i in 1:length(dates)) {
n = as.list(table(data[data$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
png(filename, width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main=title, xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
data <- orgdata[orgdata$EVENT_TYPE != "other",]
data$DVNS_ERRORTIME <- as.POSIXlt(strptime(data$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
data$EVENT_TYPE = factor(data$EVENT_TYPE)
data$DATE = as.Date(data$DVNS_ERRORTIME)
x = NULL
dates = levels(factor(data$DATE))
for (i in 1:length(dates)) {
n = as.list(table(data[data$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
png(filename, width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main=title, xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
orgdata <- antequera
filename <- "graphs/correlations/antequera_test.png"
title <- "Antequera - Alarms correlation"
data <- orgdata[orgdata$EVENT_TYPE != "other",]
data$DVNS_ERRORTIME <- as.POSIXlt(strptime(data$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
data$EVENT_TYPE = factor(data$EVENT_TYPE)
data$DATE = as.Date(data$DVNS_ERRORTIME)
x = NULL
dates = levels(factor(data$DATE))
for (i in 1:length(dates)) {
n = as.list(table(data[data$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
png(filename, width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main=title, xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
orgdata <- antequera
filename <- "graphs/correlations/antequera_test.png"
title <- "Antequera - Alarms correlation"
data <- orgdata[orgdata$EVENT_TYPE != "other",]
data$DVNS_ERRORTIME <- as.POSIXlt(strptime(data$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
data$EVENT_TYPE = factor(data$EVENT_TYPE)
data$DATE = as.Date(data$DVNS_ERRORTIME)
x = NULL
dates = levels(factor(data$DATE))
for (i in 1:length(dates)) {
n = as.list(table(data[data$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
png(filename, width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main=title, xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
orgdata <- sevilla
filename <- "graphs/correlations/sevilla_test.png"
title <- "Sevilla - Alarms correlation"
data <- orgdata[orgdata$EVENT_TYPE != "other",]
data$DVNS_ERRORTIME <- as.POSIXlt(strptime(data$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
data$EVENT_TYPE = factor(data$EVENT_TYPE)
data$DATE = as.Date(data$DVNS_ERRORTIME)
x = NULL
dates = levels(factor(data$DATE))
for (i in 1:length(dates)) {
n = as.list(table(data[data$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
png(filename, width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main=title, xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
orgdata <- segovia
filename <- "graphs/correlations/segovia_test.png"
title <- "Segovia - Alarms correlation"
data <- orgdata[orgdata$EVENT_TYPE != "other",]
data$DVNS_ERRORTIME <- as.POSIXlt(strptime(data$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
data$EVENT_TYPE = factor(data$EVENT_TYPE)
data$DATE = as.Date(data$DVNS_ERRORTIME)
x = NULL
dates = levels(factor(data$DATE))
for (i in 1:length(dates)) {
n = as.list(table(data[data$DATE == dates[i],]$EVENT_TYPE))
x = rbind(x,unlist(n))
}
xf = as.data.frame(x)
xf$DATE = dates
corr = cor(xf[,1:length(names(xf))-1])
png(filename, width=1000, height=900, res=150)
rgb.palette <- colorRampPalette(c("white", "yellow","orange", "red", "black"), space = "rgb")
levelplot(corr, main=title, xlab="", ylab="", col.regions=rgb.palette(120), cuts=100, at=seq(0,1,0.01), scales = list(x = list(rot = 45)))
dev.off()
source('~/prog/TrainMining/SQLloader.r')
sevilla[sevilla$EVENT_TYPE == "FieldElementFailure",]$EVENT_TYPE = "fieldElementFailure"
source('~/prog/TrainMining/SQLloader.r')
png("sevilla_graph.png", width=1500, height=600, res=200)
par(mfrow=c(1,3), mar=c(12,2,2,2))
barplot(tabla<-prop.table(table(sevilla$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Event type", las=3)
barplot(tabla<-prop.table(table(sevilla$INVOKE_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Invoke type")
barplot(tabla<-prop.table(table(sevilla$DVNI_ERRORCATEGORY)),col=rainbow(length(names(tabla))), main="sevilla - Error category")
#pie3D(tabla<-table(sevilla$INVOKE_TYPE), explode=0.1, main="sevilla - Invoke Type")
dev.off()
sevilla[sevilla$EVENT_TYPE == "FieldElementFailure",]$EVENT_TYPE = "fieldElementFailure"
sevtest <- sevilla[sevilla$EVENT_TYPE == "FieldElementFailure",]
sevtest
levels(sevtest$EVENT_TYPE)
levels(as.factor(sevtest$EVENT_TYPE))
droplevels(sevilla$EVENT_TYPE)
png("sevilla_graph.png", width=1500, height=600, res=200)
par(mfrow=c(1,3), mar=c(12,2,2,2))
barplot(tabla<-prop.table(table(sevilla$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Event type", las=3)
barplot(tabla<-prop.table(table(sevilla$INVOKE_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Invoke type")
barplot(tabla<-prop.table(table(sevilla$DVNI_ERRORCATEGORY)),col=rainbow(length(names(tabla))), main="sevilla - Error category")
#pie3D(tabla<-table(sevilla$INVOKE_TYPE), explode=0.1, main="sevilla - Invoke Type")
dev.off()
table(sevilla$EVENT_TYPE)
droplevels(sevilla$EVENT_TYPE)
table(droplevels(sevilla$EVENT_TYPE))
sevilla$EVENT_TYPE <- droplevels(sevilla$EVENT_TYPE)
table(sevilla$EVENT_TYPE)
png("sevilla_graph.png", width=1500, height=600, res=200)
par(mfrow=c(1,3), mar=c(12,2,2,2))
barplot(tabla<-prop.table(table(sevilla$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Event type", las=3)
barplot(tabla<-prop.table(table(sevilla$INVOKE_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Invoke type")
barplot(tabla<-prop.table(table(sevilla$DVNI_ERRORCATEGORY)),col=rainbow(length(names(tabla))), main="sevilla - Error category")
#pie3D(tabla<-table(sevilla$INVOKE_TYPE), explode=0.1, main="sevilla - Invoke Type")
dev.off()
png("sevilla_graph.png", width=1500, height=800, res=200)
par(mfrow=c(1,3), mar=c(12,2,2,2))
barplot(tabla<-prop.table(table(sevilla$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Event type", las=3)
barplot(tabla<-prop.table(table(sevilla$INVOKE_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Invoke type")
barplot(tabla<-prop.table(table(sevilla$DVNI_ERRORCATEGORY)),col=rainbow(length(names(tabla))), main="sevilla - Error category")
#pie3D(tabla<-table(sevilla$INVOKE_TYPE), explode=0.1, main="sevilla - Invoke Type")
dev.off()
png("sevilla_graph.png", width=1500, height=600, res=200)
par(mfrow=c(1,3), mar=c(12,12,2,2))
barplot(tabla<-prop.table(table(sevilla$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Event type", las=3)
barplot(tabla<-prop.table(table(sevilla$INVOKE_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Invoke type")
barplot(tabla<-prop.table(table(sevilla$DVNI_ERRORCATEGORY)),col=rainbow(length(names(tabla))), main="sevilla - Error category")
#pie3D(tabla<-table(sevilla$INVOKE_TYPE), explode=0.1, main="sevilla - Invoke Type")
dev.off()
png("sevilla_graph.png", width=1500, height=600, res=200)
par(mfrow=c(1,3), mar=c(18,2,2,2))
barplot(tabla<-prop.table(table(sevilla$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Event type", las=3)
barplot(tabla<-prop.table(table(sevilla$INVOKE_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Invoke type")
barplot(tabla<-prop.table(table(sevilla$DVNI_ERRORCATEGORY)),col=rainbow(length(names(tabla))), main="sevilla - Error category")
#pie3D(tabla<-table(sevilla$INVOKE_TYPE), explode=0.1, main="sevilla - Invoke Type")
dev.off()
png("sevilla_graph.png", width=1500, height=700, res=200)
par(mfrow=c(1,3), mar=c(16,2,2,2))
barplot(tabla<-prop.table(table(sevilla$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Event type", las=3)
barplot(tabla<-prop.table(table(sevilla$INVOKE_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Invoke type")
barplot(tabla<-prop.table(table(sevilla$DVNI_ERRORCATEGORY)),col=rainbow(length(names(tabla))), main="sevilla - Error category")
#pie3D(tabla<-table(sevilla$INVOKE_TYPE), explode=0.1, main="sevilla - Invoke Type")
dev.off()
prop.table(table(sevilla$EVENT_TYPE))
png("segovia_graph.png", width=1500, height=700, res=200)
par(mfrow=c(1,3), mar=c(16,2,2,2))
barplot(tabla<-prop.table(table(segovia$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="Segovia - Event type", las=3)
barplot(tabla<-prop.table(table(segovia$INVOKE_TYPE)), col=rainbow(length(names(tabla))), main="Segovia - Invoke type")
barplot(tabla<-prop.table(table(segovia$DVNI_ERRORCATEGORY)),col=rainbow(length(names(tabla))), main="Segovia - Error category")
#pie3D(tabla<-table(segovia$INVOKE_TYPE), explode=0.1, main="Segovia - Invoke Type")
dev.off()
png("antequera_graph.png", width=1500, height=700, res=200)
par(mfrow=c(1,3), mar=c(16,2,2,2))
barplot(tabla<-prop.table(table(antequera$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="antequera - Event type", las=3)
barplot(tabla<-prop.table(table(antequera$INVOKE_TYPE)), col=rainbow(length(names(tabla))), main="antequera - Invoke type")
barplot(tabla<-prop.table(table(antequera$DVNI_ERRORCATEGORY)),col=rainbow(length(names(tabla))), main="antequera - Error category")
#pie3D(tabla<-table(antequera$INVOKE_TYPE), explode=0.1, main="antequera - Invoke Type")
dev.off()
png("camas_graph.png", width=1500, height=700, res=200)
par(mfrow=c(1,3), mar=c(16,2,2,2))
barplot(tabla<-prop.table(table(camas$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="camas - Event type", las=3)
barplot(tabla<-prop.table(table(camas$INVOKE_TYPE)), col=rainbow(length(names(tabla))), main="camas - Invoke type")
barplot(tabla<-prop.table(table(camas$DVNI_ERRORCATEGORY)),col=rainbow(length(names(tabla))), main="camas - Error category")
#pie3D(tabla<-table(camas$INVOKE_TYPE), explode=0.1, main="camas - Invoke Type")
dev.off()
png("sevilla_graph.png", width=1500, height=700, res=200)
par(mfrow=c(1,3), mar=c(16,2,2,2))
barplot(tabla<-prop.table(table(sevilla$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Event type", las=3)
barplot(tabla<-prop.table(table(sevilla$INVOKE_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Invoke type")
barplot(tabla<-prop.table(table(sevilla$DVNI_ERRORCATEGORY)),col=rainbow(length(names(tabla))), main="sevilla - Error category")
#pie3D(tabla<-table(sevilla$INVOKE_TYPE), explode=0.1, main="sevilla - Invoke Type")
dev.off()
errorsplot(sevilla, "sevilla_timeline_b.png", "Sevilla - Hourly distribution", besid=T)
errorsplot <- function(data, filename, title="Hourly distribution", besid=FALSE) {
types = levels(data$EVENT_TYPE)
stacks = NULL
for(i in 1:length(types)){
ns = data[data$EVENT_TYPE == types[i],]
hour = factor(ns$DVNS_ERRORTIME$hour,levels=(0:23))
stacks = rbind(stacks,table(hour))
}
png(filename, width=1000, height=900, res=100)
layout(matrix(c(1,2),byrow=TRUE), heights = c(0.7, 0.3))
barplot(stacks,col=rainbow(length(types)), main=title, beside=besid)
plot.new();
plot.window(c(0,1), c(0,1));
legend(0,1.5, types, fill=rainbow(length(types)), xpd=NA)
dev.off()
}
errorsplot(sevilla, "sevilla_timeline.png", "Sevilla - Hourly distribution")
sevilla$DVNS_ERRORTIME <- as.POSIXlt(strptime(sevilla$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
errorsplot(sevilla, "sevilla_timeline.png", "Sevilla - Hourly distribution")
sevilla[sevilla$EVENT_TYPE == "other"]
sevilla[sevilla$EVENT_TYPE == "other",]
sevilla[sevilla$EVENT_TYPE == "other",]$ADDITIONAL_TEXT
translate_error("saml.status.DS_7_7")
print(translate_error("saml.status.DS_7_7"))
translate_error("saml.status.DS_7_7")
translate_error("saml.status.DS_)
")
table(sevilla[sevilla$EVENT_TYPE == "other",]$ADDITIONAL_TEXT)
table(sevilla[sevilla$EVENT_TYPE == "other",]$DVNS_ERRORTIME)
table(sevilla[sevilla$EVENT_TYPE == "other",]$DATE)
sevilla[sevilla$EVENT_TYPE == "other",]$DATE
sevnone <- sevilla[sevilla$EVENT_TYPE == "other",]$DATE
sevnone <- sevilla[sevilla$EVENT_TYPE == "other",]
View(sevnone)
antequera[antequera$ADDITIONAL_TEXT == "saml.status.DS_7_7",]
summary(sevilla)
summary(antequera)
antequera$DVNS_ERRORTIME <- as.POSIXlt(strptime(antequera$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
summary(antequera)
summary(segovia)
segovia$DVNS_ERRORTIME <- as.POSIXlt(strptime(segovia$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
sevilla$DVNS_ERRORTIME <- as.POSIXlt(strptime(sevilla$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
summary(segovia)
summary(segovia$DVNS_ERRORTIME)
length(segovia)
length(segovia[1])
length(segovia[1,])
length(segovia[,1])
summary(sevilla$DVNS_ERRORTIME)
length(sevilla[,1])
camas$DVNS_ERRORTIME <- as.POSIXlt(strptime(camas$DVNS_ERRORTIME, "%Y-%m-%d %H:%M:%S"))
summary(camas$DVNS_ERRORTIME)
length(camas[,1])
17705+100321
#png("segovia_graph.png", width=1500, height=700, res=200)
#par(mfrow=c(1,3), mar=c(16,2,2,2))
png("graphs/segovia_graph.png")
barplot(tabla<-prop.table(table(segovia$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="Segovia - Event type", las=3)
dev.off()
#png("antequera_graph.png", width=1500, height=700, res=200)
#par(mfrow=c(1,3), mar=c(16,2,2,2))
png("graphs/antequera_graph.png")
barplot(tabla<-prop.table(table(antequera$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="antequera - Event type", las=3)
dev.off()
#png("sevilla_graph.png", width=1500, height=700, res=200)
#par(mfrow=c(1,3), mar=c(16,2,2,2))
png("graphs/sevilla_graph.png")
barplot(tabla<-prop.table(table(sevilla$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="sevilla - Event type", las=3)
dev.off()
#png("segovia_graph.png", width=1500, height=700, res=200)
#par(mfrow=c(1,3), mar=c(16,2,2,2))
png("graphs/segovia_graph.png")
par(mar=c(16,2,2,2))
barplot(tabla<-prop.table(table(segovia$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="", las=3)
dev.off()
#png("antequera_graph.png", width=1500, height=700, res=200)
#par(mfrow=c(1,3), mar=c(16,2,2,2))
png("graphs/antequera_graph.png")
par(mar=c(16,2,2,2))
barplot(tabla<-prop.table(table(antequera$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="", las=3)
dev.off()
#png("sevilla_graph.png", width=1500, height=700, res=200)
#par(mfrow=c(1,3), mar=c(16,2,2,2))
png("graphs/sevilla_graph.png")
par(mar=c(16,2,2,2))
barplot(tabla<-prop.table(table(sevilla$EVENT_TYPE)), col=rainbow(length(names(tabla))), main="", las=3)
dev.off()
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
dev.off()
dev.off()
source('~/.active-rstudio-document', echo=TRUE)
source('~/prog/trainmining/category_charts.R', echo=TRUE)
source('~/prog/trainmining/category_charts.R', echo=TRUE)
source('~/prog/trainmining/category_charts.R', echo=TRUE)
png("graphs/sevilla_graph.png", res=150, height=1000, width=700)
source('~/.active-rstudio-document', echo=TRUE)
dev.off()
source('~/.active-rstudio-document', echo=TRUE)
if(!exists("antequera")){
source('~/prog/trainmining/fileloader.R', echo=TRUE)
if(!exists("antequera")){
antequera <- read.csv("Datos/antequera.csv", header = TRUE, sep=";")
}
if(!exists("segovia")) {
segovia <- read.csv("Datos/segovia.csv", header = TRUE, sep=";")
}
if(!exists("sevilla")){
sevilla <- read.csv("Datos/sevilla.csv", header = TRUE, sep=";")
}
if(!exists("camas")) {
camas <- read.csv("Datos/camas.csv", header = TRUE, sep=";")
}
if(!exists("errortext")) {
errortext <- read.csv("Datos/messagetexts.csv", header = TRUE, sep=";")
}
}
}
}
View(antequera)
View(antequera)
summary(antequera$DVNI_ERRORNUMBER)
summary(antequera$DVNI_ERRORCATEGORY)
